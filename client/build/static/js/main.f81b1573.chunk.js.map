{"version":3,"sources":["components/headers/icon/menu.svg","components/headers/icon/close.svg","api/ProductsAPI.js","api/UserAPI.js","api/CategoriesAPI.js","GlobalState.js","components/headers/Header.js","components/mainpages/utils/productItem/ProductItem.js","components/mainpages/utils/loading/Loading.js","components/mainpages/products/Filters.js","components/mainpages/products/LoadMore.js","components/mainpages/products/Products.js","components/mainpages/detailProduct/DetailProduct.js","components/mainpages/auth/Login.js","components/mainpages/auth/Register.js","components/mainpages/history/OrderHistory.js","components/mainpages/history/OrderDetails.js","components/mainpages/cart/PaypalButton.js","components/mainpages/cart/Cart.js","components/mainpages/utils/not_found/NotFound.js","components/mainpages/categories/Categories.js","components/mainpages/createProduct/CreateProduct.js","components/mainpages/Pages.js","App.js","index.js"],"names":["module","exports","ProductsAPI","useState","products","setProducts","callback","setCallback","category","setCategory","sort","setSort","search","setSearch","page","setPage","result","setResult","useEffect","a","axios","get","res","data","getProducts","UserAPI","token","isLogged","setIsLogged","isAdmin","setIsAdmin","cart","setCart","history","setHistory","headers","Authorization","role","alert","response","msg","getUser","addCart","product","every","item","_id","quantity","patch","CategoriesAPI","categories","setCategories","getCategories","GlobalState","createContext","DataProvider","children","setToken","localStorage","getItem","refreshToken","accesstoken","setTimeout","state","productsAPI","userAPI","categoriesAPI","Provider","value","Header","useContext","menu","setMenu","logoutUser","removeItem","window","location","href","styleMenu","left","className","onClick","src","Menu","alt","width","to","style","Close","ProductItem","deleteProduct","handleCheck","images","url","top","background","color","title","price","description","middleLocations","curosr","borderRadius","paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","Loading","Filters","name","onChange","e","target","map","key","type","placeholder","toLowerCase","LoadMore","Products","loading","setLoading","id","forEach","checked","public_id","destroyImg","post","delete","console","log","length","DetailProduct","params","useParams","detailProduct","setDetailProduct","textDecoration","padding","content","marginTop","Login","email","password","user","setUser","onChangeInput","loginSubmit","preventDefault","setItem","onSubmit","required","autoComplete","Register","registerSubmit","OrderHistory","getHistory","items","paymentID","Date","createdAt","toLocaleDateString","OrderDetails","orderDetails","setOrderDetails","address","recipient_name","line1","city","postal_code","country_code","margin","PaypalButton","total","this","props","env","client","sandbox","production","currency","onError","err","onSuccess","payment","tranSuccess","onCancel","size","shape","label","tagline","React","Component","Cart","setTotal","reduce","prev","getTotal","addToCart","textAlign","fontSize","confirm","index","splice","NotFound","Categories","onEdit","setOnEdit","setID","createCategory","put","editCategory","deleteCategory","htmlFor","initialState","product_id","startLocation","finalLocation","CreateProduct","setProduct","setImages","useHistory","param","categoryState","setCategoryState","handleUpload","file","files","formData","FormData","append","handleDestroy","handleChangeInput","handleSubmit","push","styleUpload","display","rows","defaultValue","Pages","path","exact","component","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f81b1573.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/menu.b3f49afd.svg\";","module.exports = __webpack_public_path__ + \"static/media/close.2c5552a1.svg\";","import { useState, useEffect } from \"react\";\nimport axios from \"axios\";\n\nfunction ProductsAPI() {\n  const [products, setProducts] = useState([]);\n  const [callback, setCallback] = useState(false);\n  const [category, setCategory] = useState(\"\");\n  const [sort, setSort] = useState(\"\");\n  const [search, setSearch] = useState(\"\");\n  const [page, setPage] = useState(1);\n  const [result, setResult] = useState(0);\n\n  useEffect(() => {\n    const getProducts = async () => {\n      const res = await axios.get(\n        `/api/products?limit=${\n          page * 9\n        }&${category}&${sort}&title[regex]=${search}`\n      );\n      setProducts(res.data.products);\n      setResult(res.data.result);\n    };\n    getProducts();\n  }, [callback, category, sort, search, page]);\n\n  return {\n    products: [products, setProducts],\n    callback: [callback, setCallback],\n    category: [category, setCategory],\n    sort: [sort, setSort],\n    search: [search, setSearch],\n    page: [page, setPage],\n    result: [result, setResult],\n  };\n}\n\nexport default ProductsAPI;\n","import { useState, useEffect } from \"react\";\nimport axios from \"axios\";\n\nfunction UserAPI(token) {\n  const [isLogged, setIsLogged] = useState(false);\n  const [isAdmin, setIsAdmin] = useState(false);\n  const [cart, setCart] = useState([]);\n  const [history, setHistory] = useState([]);\n\n  useEffect(() => {\n    if (token) {\n      const getUser = async () => {\n        try {\n          const res = await axios.get(\"/user/infor\", {\n            headers: { Authorization: token },\n          });\n\n          setIsLogged(true);\n          res.data.role === 1 ? setIsAdmin(true) : setIsAdmin(false);\n\n          setCart(res.data.cart);\n        } catch (err) {\n          alert(err.response.data.msg);\n        }\n      };\n\n      getUser();\n    }\n  }, [token]);\n\n  const addCart = async (product) => {\n    if (!isLogged) return alert(\"Please login to continue buying\");\n\n    const check = cart.every((item) => {\n      return item._id !== product._id;\n    });\n\n    if (check) {\n      setCart([...cart, { ...product, quantity: 1 }]);\n\n      await axios.patch(\n        \"/user/addcart\",\n        { cart: [...cart, { ...product, quantity: 1 }] },\n        {\n          headers: { Authorization: token },\n        }\n      );\n    } else {\n      alert(\"This product has been added to cart.\");\n    }\n  };\n\n  return {\n    isLogged: [isLogged, setIsLogged],\n    isAdmin: [isAdmin, setIsAdmin],\n    cart: [cart, setCart],\n    addCart: addCart,\n    history: [history, setHistory],\n  };\n}\n\nexport default UserAPI;\n","import {useState, useEffect} from 'react'\nimport axios from 'axios'\n\nfunction CategoriesAPI() {\n    const [categories, setCategories] = useState([])\n    const [callback, setCallback] = useState(false)\n\n    useEffect(() =>{\n        const getCategories = async () =>{\n            const res = await axios.get('/api/category')\n            setCategories(res.data)\n        }\n\n        getCategories()\n    },[callback])\n    return {\n        categories: [categories, setCategories],\n        callback: [callback, setCallback]\n    }\n}\n\nexport default CategoriesAPI\n","import React, {createContext, useState, useEffect} from 'react'\nimport ProductsAPI from './api/ProductsAPI'\nimport UserAPI from './api/UserAPI'\nimport CategoriesAPI from './api/CategoriesAPI'\n\nimport axios from 'axios'\n\nexport const GlobalState = createContext()\n\n\nexport const DataProvider = ({children}) =>{\n    const [token, setToken] = useState(false)\n\n\n    useEffect(() =>{\n        const firstLogin = localStorage.getItem('firstLogin')\n        if(firstLogin){\n            const refreshToken = async () =>{\n                const res = await axios.get('/user/refresh_token')\n        \n                setToken(res.data.accesstoken)\n    \n                setTimeout(() => {\n                    refreshToken()\n                }, 10 * 60 * 1000)\n            }\n            refreshToken()\n        }\n    },[])\n\n\n    \n    const state = {\n        token: [token, setToken],\n        productsAPI: ProductsAPI(),\n        userAPI: UserAPI(token),\n        categoriesAPI: CategoriesAPI()\n    }\n\n    return (\n        <GlobalState.Provider value={state}>\n            {children}\n        </GlobalState.Provider>\n    )\n}","import React, { useContext, useState } from \"react\";\nimport { GlobalState } from \"../../GlobalState\";\nimport Menu from \"./icon/menu.svg\";\nimport Close from \"./icon/close.svg\";\n// import Cart from \"./icon/cart.svg\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\n\nfunction Header() {\n  const state = useContext(GlobalState);\n  const [isLogged] = state.userAPI.isLogged;\n  const [isAdmin] = state.userAPI.isAdmin;\n  const [cart] = state.userAPI.cart;\n  const [menu, setMenu] = useState(false);\n\n  const logoutUser = async () => {\n    await axios.get(\"/user/logout\");\n\n    localStorage.removeItem(\"firstLogin\");\n\n    window.location.href = \"/\";\n  };\n\n  const adminRouter = () => {\n    return (\n      <>\n        <li>\n          <Link to=\"/create_product\">განცხადების დამატება +</Link>\n        </li>\n        <li>{/* <Link to=\"/category\">Categories</Link> */}</li>\n      </>\n    );\n  };\n\n  const loggedRouter = () => {\n    return (\n      <>\n        {/* <li>\n          <Link to=\"/history\">History</Link>\n        </li> */}\n        <li>\n          <Link to=\"/\" onClick={logoutUser}>\n            გასვლა\n          </Link>\n        </li>\n      </>\n    );\n  };\n\n  const styleMenu = {\n    left: menu ? 0 : \"-100%\",\n  };\n\n  return (\n    <header>\n      <div className=\"menu\" onClick={() => setMenu(!menu)}>\n        <img src={Menu} alt=\"\" width=\"30\" />\n      </div>\n\n      <div className=\"logo\">\n        <h1>\n          <Link to=\"/\">{isAdmin ? \"Fellow traveler\" : \"Fellow traveler\"}</Link>\n        </h1>\n      </div>\n\n      <ul style={styleMenu}>\n        {/* <li>\n          <Link to=\"/\">{isAdmin && \"განცხადებები\"}</Link>\n        </li> */}\n\n        {isAdmin && adminRouter()}\n\n        {isLogged ? (\n          loggedRouter()\n        ) : (\n          <li>\n            <Link to=\"/login\">ავტორიზაცია</Link>\n          </li>\n        )}\n\n        <li onClick={() => setMenu(!menu)}>\n          <img src={Close} alt=\"\" width=\"30\" className=\"menu\" />\n        </li>\n      </ul>\n\n      {\n        isAdmin && \"\"\n        //  : (\n        //     <div className=\"cart-icon\">\n        //       <span>{cart.length}</span>\n        //       <Link to=\"/cart\">\n        //         <img src={Cart} alt=\"\" width=\"30\" />\n        //       </Link>\n        //     </div>\n        //   )\n      }\n    </header>\n  );\n}\n\nexport default Header;\n","import React from \"react\";\nimport BtnRender from \"./BtnRender\";\nimport { Link } from \"react-router-dom\";\n\nfunction ProductItem({ product, isAdmin, deleteProduct, handleCheck }) {\n  return (\n    <>\n      <Link to={`/detail/${product._id}`}>\n        <div className=\"product_card\">\n          {/* {\n                isAdmin && <input type=\"checkbox\" checked={product.checked}\n                onChange={() => handleCheck(product._id)} />\n            } */}\n          <img src={product.images.url} alt=\"\" />\n          {product.category === \"61f3d9b908e72d203c44c95a\" ? (\n            <>\n              <div className=\"product_category\">\n                <h3>მგზავრი</h3>\n              </div>\n              <div\n                style={{ top: \"70px\", background: \"#00799E\", color: \"white\" }}\n                className=\"product_category\"\n              >\n                <h3>{product.quantity} ადამიანი</h3>\n              </div>\n            </>\n          ) : (\n            <>\n              <div className=\"product_category\">\n                <h3>მანქანა</h3>\n              </div>\n              <div\n                className=\"product_category\"\n                style={{ top: \"70px\", background: \"#00799E\", color: \"white\" }}\n              >\n                <h3>{product.quantity} ადგილი</h3>\n              </div>\n            </>\n          )}\n          <div className=\"product_box\">\n            <h2 title={product.title}>{product.title}</h2>\n            <p>\n              <i>გასვლის თარიღი</i>\n            </p>\n            {product.price &&\n            product.category === \"61f3d9b908e72d203c44c95a\" ? (\n              <span> ბიუჯეტი: {product.price}₾ </span>\n            ) : (\n              <span> საწვავის ხარჯი: {product.price}₾</span>\n            )}\n            <p className=\"product_description\">{product.description}</p>\n\n            {product.category !== \"61f3d9b908e72d203c44c95a\" &&\n              product.middleLocations && (\n                <p className=\"product_middle_locations\">\n                  შემიძლია გავიარო:{\" \"}\n                  <span\n                    style={{\n                      background: \"#EB7602\",\n                      curosr: \"none\",\n                      borderRadius: \"15px\",\n                      paddingLeft: \"8px\",\n                      paddingRight: \"8px\",\n                      paddingTop: \"5px\",\n                      paddingBottom: \"5px\",\n                      marginLeft: \"5px\",\n                    }}\n                  >\n                    <i>{product.middleLocations}</i>\n                  </span>\n                </p>\n              )}\n\n            {/* <BtnRender product={product} deleteProduct={deleteProduct} /> */}\n          </div>\n        </div>\n      </Link>\n    </>\n  );\n}\n\nexport default ProductItem;\n","import React from 'react'\nimport './loading.css'\n\nfunction Loading() {\n    return (\n        <div className=\"load-page\">\n            <div className=\"loader\">\n                <div>\n                    <div>\n                        <div>\n                            <div>\n                                <div>\n                                    <div>\n                                        <div>\n                                            <div></div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Loading\n","import React, { useContext } from \"react\";\nimport { GlobalState } from \"../../../GlobalState\";\n\nfunction Filters() {\n  const state = useContext(GlobalState);\n  const [categories] = state.categoriesAPI.categories;\n\n  const [category, setCategory] = state.productsAPI.category;\n  const [sort, setSort] = state.productsAPI.sort;\n  const [search, setSearch] = state.productsAPI.search;\n\n  const handleCategory = (e) => {\n    setCategory(e.target.value);\n    setSearch(\"\");\n  };\n\n  return (\n    <div className=\"filter_menu\">\n      <div className=\"row\">\n        <span>ვეძებ:</span>\n        <select name=\"category\" value={category} onChange={handleCategory}>\n          <option value=\"\">ყველა განცხადებას</option>\n          {categories.map((category) => (\n            <option value={\"category=\" + category._id} key={category._id}>\n              {category.name}\n            </option>\n          ))}\n        </select>\n      </div>\n\n      <input\n        type=\"text\"\n        value={search}\n        placeholder=\"მაგ: თბილისი - ბათუმი\"\n        onChange={(e) => setSearch(e.target.value.toLowerCase())}\n      />\n\n      <div className=\"row sort\">\n        <span>მაჩვენე: </span>\n        <select value={sort} onChange={(e) => setSort(e.target.value)}>\n          <option value=\"\">უახლესი</option>\n          {/* <option value=\"sort=oldest\">უძველესი</option> */}\n          {/* <option value=\"sort=-sold\">Best sales</option> */}\n          {/* <option value=\"sort=-price\">Price: Hight-Low</option> */}\n\n          <option value=\"sort=price\">ხარჯის მიხედვით</option>\n        </select>\n      </div>\n    </div>\n  );\n}\n\nexport default Filters;\n","import React, {useContext} from 'react'\nimport {GlobalState} from '../../../GlobalState'\n\nfunction LoadMore() {\n    const state = useContext(GlobalState)\n    const [page, setPage] = state.productsAPI.page\n    const [result] = state.productsAPI.result\n\n    return (\n        <div className=\"load_more\">\n            {\n                result < page * 9 ? \"\"\n                : <button onClick={() => setPage(page+1)}>Load more</button>\n            }\n        </div>\n    )\n}\n\nexport default LoadMore\n","import React, { useContext, useState } from \"react\";\nimport { GlobalState } from \"../../../GlobalState\";\nimport ProductItem from \"../utils/productItem/ProductItem\";\nimport Loading from \"../utils/loading/Loading\";\nimport axios from \"axios\";\nimport Filters from \"./Filters\";\nimport LoadMore from \"./LoadMore\";\n\nfunction Products() {\n  const state = useContext(GlobalState);\n  const [products, setProducts] = state.productsAPI.products;\n  const [isAdmin] = state.userAPI.isAdmin;\n  const [token] = state.token;\n  const [callback, setCallback] = state.productsAPI.callback;\n  const [loading, setLoading] = useState(false);\n  const [isCheck, setIsCheck] = useState(false);\n\n  const handleCheck = (id) => {\n    products.forEach((product) => {\n      if (product._id === id) product.checked = !product.checked;\n    });\n    setProducts([...products]);\n  };\n\n  const deleteProduct = async (id, public_id) => {\n    try {\n      setLoading(true);\n      const destroyImg = axios.post(\n        \"/api/destroy\",\n        { public_id },\n        {\n          headers: { Authorization: token },\n        }\n      );\n      const deleteProduct = axios.delete(`/api/products/${id}`, {\n        headers: { Authorization: token },\n      });\n\n      await destroyImg;\n      await deleteProduct;\n      setCallback(!callback);\n      setLoading(false);\n    } catch (err) {\n      alert(err.response.data.msg);\n    }\n  };\n\n  const checkAll = () => {\n    products.forEach((product) => {\n      product.checked = !isCheck;\n    });\n    setProducts([...products]);\n    setIsCheck(!isCheck);\n  };\n\n  const deleteAll = () => {\n    products.forEach((product) => {\n      if (product.checked) deleteProduct(product._id, product.images.public_id);\n    });\n  };\n\n  if (loading)\n    return (\n      <div>\n        <Loading />\n      </div>\n    );\n  return (\n    <>\n      <Filters />\n\n      {/* {isAdmin && (\n        <div className=\"delete-all\">\n          <span>Select all</span>\n          <input type=\"checkbox\" checked={isCheck} onChange={checkAll} />\n          <button onClick={deleteAll}>Delete ALL</button>\n        </div>\n      )} */}\n      {console.log(products)}\n      <div className=\"products\">\n        {products.map((product) => {\n          return (\n            <ProductItem\n              key={product._id}\n              product={product}\n              isAdmin={isAdmin}\n              deleteProduct={deleteProduct}\n              handleCheck={handleCheck}\n            />\n          );\n        })}\n      </div>\n\n      <LoadMore />\n      {products.length === 0 && <Loading />}\n    </>\n  );\n}\n\nexport default Products;\n","import React, { useContext, useState, useEffect } from \"react\";\nimport { useParams, Link } from \"react-router-dom\";\nimport { GlobalState } from \"../../../GlobalState\";\nimport ProductItem from \"../utils/productItem/ProductItem\";\n\nfunction DetailProduct() {\n  const params = useParams();\n  const state = useContext(GlobalState);\n  const [products] = state.productsAPI.products;\n  const addCart = state.userAPI.addCart;\n  const [detailProduct, setDetailProduct] = useState([]);\n\n  useEffect(() => {\n    if (params.id) {\n      products.forEach((product) => {\n        if (product._id === params.id) setDetailProduct(product);\n      });\n    }\n  }, [params.id, products]);\n\n  if (detailProduct.length === 0) return null;\n\n  return (\n    <>\n      <div className=\"product_card\">\n        {/* {\n                isAdmin && <input type=\"checkbox\" checked={product.checked}\n                onChange={() => handleCheck(product._id)} />\n            } */}\n        <img src={detailProduct.images.url} alt=\"\" />\n        {detailProduct.category === \"61f3d9b908e72d203c44c95a\" ? (\n          <>\n            <div className=\"product_category\">\n              <h3>მგზავრი</h3>\n            </div>\n            <div\n              style={{ top: \"70px\", background: \"#00799E\", color: \"white\" }}\n              className=\"product_category\"\n            >\n              <h3>{detailProduct.quantity} ადამიანი</h3>\n            </div>\n          </>\n        ) : (\n          <>\n            <div className=\"product_category\">\n              <h3>მანქანა</h3>\n            </div>\n            <div\n              className=\"product_category\"\n              style={{ top: \"70px\", background: \"#00799E\", color: \"white\" }}\n            >\n              <h3>{detailProduct.quantity} ადგილი</h3>\n            </div>\n          </>\n        )}\n        <div className=\"product_box\">\n          <h2 title={detailProduct.title}>{detailProduct.title}</h2>\n          <p>\n            <i>გასვლის თარიღი</i>\n          </p>\n          {detailProduct.price &&\n          detailProduct.category === \"61f3d9b908e72d203c44c95a\" ? (\n            <span> ბიუჯეტი: {detailProduct.price}₾ </span>\n          ) : (\n            <span> საწვავის ხარჯი: {detailProduct.price}₾</span>\n          )}\n          <p className=\"product_description\">{detailProduct.description}</p>\n\n          {detailProduct.category !== \"61f3d9b908e72d203c44c95a\" &&\n            detailProduct.middleLocations && (\n              <p className=\"product_middle_locations\">\n                შემიძლია გავიარო:{\" \"}\n                <span\n                  style={{\n                    background: \"#EB7602\",\n                    curosr: \"none\",\n                    borderRadius: \"15px\",\n                    paddingLeft: \"8px\",\n                    paddingRight: \"8px\",\n                    paddingTop: \"5px\",\n                    paddingBottom: \"5px\",\n                    marginLeft: \"5px\",\n                  }}\n                >\n                  <i>{detailProduct.middleLocations}</i>\n                </span>\n              </p>\n            )}\n          <a\n            style={{\n              textDecoration: \"none\",\n              background: \"#00799E\",\n              color: \"white\",\n              padding: \"5px 10px 5px 10px\",\n              borderRadius: \"5px\",\n            }}\n          >\n            {detailProduct.content}\n          </a>\n\n          {/* <BtnRender product={product} deleteProduct={deleteProduct} /> */}\n        </div>\n      </div>\n\n      <div style={{ marginTop: \"100px\" }}>\n        <h2>მსგავსი განცხადებები</h2>\n        <div className=\"products\">\n          {products.map((product) => {\n            return product.category === detailProduct.category ? (\n              <ProductItem key={product._id} product={product} />\n            ) : null;\n          })}\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default DetailProduct;\n","import React, {useState} from 'react'\nimport {Link} from 'react-router-dom'\nimport axios from 'axios'\n\nfunction Login() {\n    const [user, setUser] = useState({\n        email:'', password: ''\n    })\n\n    const onChangeInput = e =>{\n        const {name, value} = e.target;\n        setUser({...user, [name]:value})\n    }\n\n    const loginSubmit = async e =>{\n        e.preventDefault()\n        try {\n            await axios.post('/user/login', {...user})\n\n            localStorage.setItem('firstLogin', true)\n            \n            window.location.href = \"/\";\n        } catch (err) {\n            alert(err.response.data.msg)\n        }\n    }\n\n    return (\n        <div className=\"login-page\">\n            <form onSubmit={loginSubmit}>\n                <h2>Login</h2>\n                <input type=\"email\" name=\"email\" required\n                placeholder=\"Email\" value={user.email} onChange={onChangeInput} />\n\n                <input type=\"password\" name=\"password\" required autoComplete=\"on\"\n                placeholder=\"Password\" value={user.password} onChange={onChangeInput} />\n\n                <div className=\"row\">\n                    <button type=\"submit\">Login</button>\n                    <Link to=\"/register\">Register</Link>\n                </div>\n            </form>\n        </div>\n    )\n}\n\nexport default Login\n","import React, {useState} from 'react'\nimport {Link} from 'react-router-dom'\nimport axios from 'axios'\n\nfunction Register() {\n    const [user, setUser] = useState({\n        name:'', email:'', password: ''\n    })\n\n    const onChangeInput = e =>{\n        const {name, value} = e.target;\n        setUser({...user, [name]:value})\n    }\n\n    const registerSubmit = async e =>{\n        e.preventDefault()\n        try {\n            await axios.post('/user/register', {...user})\n\n            localStorage.setItem('firstLogin', true)\n\n            \n            window.location.href = \"/\";\n        } catch (err) {\n            alert(err.response.data.msg)\n        }\n    }\n\n    return (\n        <div className=\"login-page\">\n            <form onSubmit={registerSubmit}>\n                <h2>Register</h2>\n                <input type=\"text\" name=\"name\" required\n                placeholder=\"Name\" value={user.name} onChange={onChangeInput} />\n\n                <input type=\"email\" name=\"email\" required\n                placeholder=\"Email\" value={user.email} onChange={onChangeInput} />\n\n                <input type=\"password\" name=\"password\" required autoComplete=\"on\"\n                placeholder=\"Password\" value={user.password} onChange={onChangeInput} />\n\n                <div className=\"row\">\n                    <button type=\"submit\">Register</button>\n                    <Link to=\"/login\">Login</Link>\n                </div>\n            </form>\n        </div>\n    )\n}\n\nexport default Register","import React, {useContext, useEffect} from 'react'\nimport {GlobalState} from '../../../GlobalState'\nimport {Link} from 'react-router-dom'\nimport axios from 'axios'\n\nfunction OrderHistory() {\n    const state = useContext(GlobalState)\n    const [history, setHistory] = state.userAPI.history\n    const [isAdmin] = state.userAPI.isAdmin\n    const [token] = state.token\n    \n\n    useEffect(() => {\n        if(token){\n            const getHistory = async() =>{\n                if(isAdmin){\n                    const res = await axios.get('/api/payment', {\n                        headers: {Authorization: token}\n                    })\n                    setHistory(res.data)\n                }else{\n                    const res = await axios.get('/user/history', {\n                        headers: {Authorization: token}\n                    })\n                    setHistory(res.data)\n                }\n            }\n            getHistory()\n        }\n    },[token, isAdmin, setHistory])\n\n    return (\n        <div className=\"history-page\">\n            <h2>History</h2>\n\n            <h4>You have {history.length} ordered</h4>\n\n            <table>\n                <thead>\n                    <tr>\n                        <th>Payment ID</th>\n                        <th>Date of Purchased</th>\n                        <th></th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {\n                        history.map(items => (\n                            <tr key={items._id}>\n                                <td>{items.paymentID}</td>\n                                <td>{new Date(items.createdAt).toLocaleDateString()}</td>\n                                <td><Link to={`/history/${items._id}`}>View</Link></td>\n                            </tr>\n                        ))\n                    }\n                </tbody>\n            </table>\n        </div>\n    )\n}\n\nexport default OrderHistory\n","import React, {useState, useEffect, useContext} from 'react'\nimport {useParams} from 'react-router-dom'\nimport {GlobalState} from '../../../GlobalState'\n\nfunction OrderDetails() {\n    const state = useContext(GlobalState)\n    const [history] = state.userAPI.history\n    const [orderDetails, setOrderDetails] = useState([])\n\n    const params = useParams()\n\n    useEffect(() => {\n        if(params.id){\n            history.forEach(item =>{\n                if(item._id === params.id) setOrderDetails(item)\n            })\n        }\n    },[params.id, history])\n\n\n    if(orderDetails.length === 0) return null;\n\n    return (\n        <div className=\"history-page\">\n            <table>\n                <thead>\n                    <tr>\n                        <th>Name</th>\n                        <th>Address</th>\n                        <th>Postal Code</th>\n                        <th>Country Code</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr>\n                        <td>{orderDetails.address.recipient_name}</td>\n                        <td>{orderDetails.address.line1 + \" - \" + orderDetails.address.city}</td>\n                        <td>{orderDetails.address.postal_code}</td>\n                        <td>{orderDetails.address.country_code}</td>\n                    </tr>\n                </tbody>\n            </table>\n\n            <table style={{margin: \"30px 0px\"}}>\n                <thead>\n                    <tr>\n                        <th></th>\n                        <th>Products</th>\n                        <th>Quantity</th>\n                        <th>Price</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {\n                        orderDetails.cart.map(item =>(\n                        <tr key={item._id}>\n                            <td><img src={item.images.url} alt=\"\" /></td>\n                            <td>{item.title}</td>\n                            <td>{item.quantity}</td>\n                            <td>$ {item.price * item.quantity}</td>\n                        </tr>\n                        ))\n                    }\n                    \n                </tbody>\n            </table>\n        </div>\n    )\n}\n\nexport default OrderDetails\n","import React from 'react';\nimport PaypalExpressBtn from 'react-paypal-express-checkout';\n \nexport default class PaypalButton extends React.Component {\n    render() {\n        const onSuccess = (payment) => {\n            // Congratulation, it came here means everything's fine!\n            \t\tconsole.log(\"The payment was succeeded!\", payment);\n                    // You can bind the \"payment\" object's value to your state or props or whatever here, please see below for sample returned data\n                    this.props.tranSuccess(payment)\n        }\n \n        const onCancel = (data) => {\n            // User pressed \"cancel\" or close Paypal's popup!\n            console.log('The payment was cancelled!', data);\n            // You can bind the \"data\" object's value to your state or props or whatever here, please see below for sample returned data\n        }\n \n        const onError = (err) => {\n            // The main Paypal's script cannot be loaded or somethings block the loading of that script!\n            console.log(\"Error!\", err);\n            // Because the Paypal's main script is loaded asynchronously from \"https://www.paypalobjects.com/api/checkout.js\"\n            // => sometimes it may take about 0.5 second for everything to get set, or for the button to appear\n        }\n \n        let env = 'sandbox'; // you can set here to 'production' for production\n        let currency = 'USD'; // or you can set this value from your props or state\n        let total = this.props.total; // same as above, this is the total amount (based on currency) to be paid by using Paypal express checkout\n        // Document on Paypal's currency code: https://developer.paypal.com/docs/classic/api/currency_codes/\n \n        const client = {\n            sandbox:    'YOUR-sandbox-APP-ID',\n            production: 'YOUR-PRODUCTION-APP-ID',\n        }\n        // In order to get production's app-ID, you will have to send your app to Paypal for approval first\n        // For sandbox app-ID (after logging into your developer account, please locate the \"REST API apps\" section, click \"Create App\"):\n        //   => https://developer.paypal.com/docs/classic/lifecycle/sb_credentials/\n        // For production app-ID:\n        //   => https://developer.paypal.com/docs/classic/lifecycle/goingLive/\n \n        // NB. You can also have many Paypal express checkout buttons on page, just pass in the correct amount and they will work!\n        let style = {\n            size: 'small',\n            color: 'blue',\n            shape: 'rect',\n            label: 'checkout',\n            tagline: false\n        }\n\n        return (\n            <PaypalExpressBtn \n            env={env} client={client} \n            currency={currency} \n            total={total} onError={onError} \n            onSuccess={onSuccess} onCancel={onCancel}\n            style={style} />\n        );\n    }\n}","import React, {useContext, useState, useEffect} from 'react'\nimport {GlobalState} from '../../../GlobalState'\nimport axios from 'axios'\nimport PaypalButton from './PaypalButton'\n\nfunction Cart() {\n    const state = useContext(GlobalState)\n    const [cart, setCart] = state.userAPI.cart\n    const [token] = state.token\n    const [total, setTotal] = useState(0)\n\n    useEffect(() =>{\n        const getTotal = () =>{\n            const total = cart.reduce((prev, item) => {\n                return prev + (item.price * item.quantity)\n            },0)\n\n            setTotal(total)\n        }\n\n        getTotal()\n\n    },[cart])\n\n    const addToCart = async (cart) =>{\n        await axios.patch('/user/addcart', {cart}, {\n            headers: {Authorization: token}\n        })\n    }\n\n\n    const increment = (id) =>{\n        cart.forEach(item => {\n            if(item._id === id){\n                item.quantity += 1\n            }\n        })\n\n        setCart([...cart])\n        addToCart(cart)\n    }\n\n    const decrement = (id) =>{\n        cart.forEach(item => {\n            if(item._id === id){\n                item.quantity === 1 ? item.quantity = 1 : item.quantity -= 1\n            }\n        })\n\n        setCart([...cart])\n        addToCart(cart)\n    }\n\n    const removeProduct = id =>{\n        if(window.confirm(\"Do you want to delete this product?\")){\n            cart.forEach((item, index) => {\n                if(item._id === id){\n                    cart.splice(index, 1)\n                }\n            })\n\n            setCart([...cart])\n            addToCart(cart)\n        }\n    }\n\n    const tranSuccess = async(payment) => {\n        const {paymentID, address} = payment;\n\n        await axios.post('/api/payment', {cart, paymentID, address}, {\n            headers: {Authorization: token}\n        })\n\n        setCart([])\n        addToCart([])\n        alert(\"You have successfully placed an order.\")\n    }\n\n\n    if(cart.length === 0) \n        return <h2 style={{textAlign: \"center\", fontSize: \"5rem\"}}>Cart Empty</h2> \n\n    return (\n        <div>\n            {\n                cart.map(product => (\n                    <div className=\"detail cart\" key={product._id}>\n                        <img src={product.images.url} alt=\"\" />\n\n                        <div className=\"box-detail\">\n                            <h2>{product.title}</h2>\n\n                            <h3>$ {product.price * product.quantity}</h3>\n                            <p>{product.description}</p>\n                            <p>{product.content}</p>\n\n                            <div className=\"amount\">\n                                <button onClick={() => decrement(product._id)}> - </button>\n                                <span>{product.quantity}</span>\n                                <button onClick={() => increment(product._id)}> + </button>\n                            </div>\n                            \n                            <div className=\"delete\" \n                            onClick={() => removeProduct(product._id)}>\n                                X\n                            </div>\n                        </div>\n                    </div>\n                ))\n            }\n\n            <div className=\"total\">\n                <h3>Total: $ {total}</h3>\n                <PaypalButton\n                total={total}\n                tranSuccess={tranSuccess} />\n            </div>\n        </div>\n    )\n}\n\nexport default Cart\n","import React from 'react'\n\nfunction NotFound() {\n    return (\n        <div>\n            404 | Not Found\n        </div>\n    )\n}\n\nexport default NotFound\n","import React, {useState, useContext} from 'react'\nimport {GlobalState} from '../../../GlobalState'\nimport axios from 'axios'\n\nfunction Categories() {\n    const state = useContext(GlobalState)\n    const [categories] = state.categoriesAPI.categories\n    const [category, setCategory] = useState('')\n    const [token] = state.token\n    const [callback, setCallback] = state.categoriesAPI.callback\n    const [onEdit, setOnEdit] = useState(false)\n    const [id, setID] = useState('')\n\n    const createCategory = async e =>{\n        e.preventDefault()\n        try {\n            if(onEdit){\n                const res = await axios.put(`/api/category/${id}`, {name: category}, {\n                    headers: {Authorization: token}\n                })\n                alert(res.data.msg)\n            }else{\n                const res = await axios.post('/api/category', {name: category}, {\n                    headers: {Authorization: token}\n                })\n                alert(res.data.msg)\n            }\n            setOnEdit(false)\n            setCategory('')\n            setCallback(!callback)\n            \n        } catch (err) {\n            alert(err.response.data.msg)\n        }\n    }\n\n    const editCategory = async (id, name) =>{\n        setID(id)\n        setCategory(name)\n        setOnEdit(true)\n    }\n\n    const deleteCategory = async id =>{\n        try {\n            const res = await axios.delete(`/api/category/${id}`, {\n                headers: {Authorization: token}\n            })\n            alert(res.data.msg)\n            setCallback(!callback)\n        } catch (err) {\n            alert(err.response.data.msg)\n        }\n    }\n\n    return (\n        <div className=\"categories\">\n            <form onSubmit={createCategory}>\n                <label htmlFor=\"category\">Category</label>\n                <input type=\"text\" name=\"category\" value={category} required\n                onChange={e => setCategory(e.target.value)} />\n\n                <button type=\"submit\">{onEdit? \"Update\" : \"Create\"}</button>\n            </form>\n\n            <div className=\"col\">\n                {\n                    categories.map(category => (\n                        <div className=\"row\" key={category._id}>\n                            <p>{category.name}</p>\n                            <div>\n                                <button onClick={() => editCategory(category._id, category.name)}>Edit</button>\n                                <button onClick={() => deleteCategory(category._id)}>Delete</button>\n                            </div>\n                        </div>\n                    ))\n                }\n            </div>\n        </div>\n    )\n}\n\nexport default Categories\n","import React, { useState, useContext, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { GlobalState } from \"../../../GlobalState\";\nimport Loading from \"../utils/loading/Loading\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { v4 as uuid } from \"uuid\";\n\nconst initialState = {\n  product_id: \"\",\n  price: 0,\n  description: \"\",\n  content: \"\",\n  category: \"\",\n  startLocation: \"\",\n  finalLocation: \"\",\n};\n\nfunction CreateProduct() {\n  const state = useContext(GlobalState);\n  const [product, setProduct] = useState(initialState);\n  const [categories] = state.categoriesAPI.categories;\n  const [images, setImages] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  const [isAdmin] = state.userAPI.isAdmin;\n  const [token] = state.token;\n\n  const history = useHistory();\n  const param = useParams();\n\n  const [products] = state.productsAPI.products;\n  const [onEdit, setOnEdit] = useState(false);\n  const [callback, setCallback] = state.productsAPI.callback;\n  const [categoryState, setCategoryState] = useState(\"\");\n  useEffect(() => {\n    if (param.id) {\n      setOnEdit(true);\n      products.forEach((product) => {\n        if (product._id === param.id) {\n          setProduct(product);\n          setImages(product.images);\n        }\n      });\n    } else {\n      setOnEdit(false);\n      setProduct(initialState);\n      setImages(false);\n    }\n  }, [param.id, products]);\n\n  const handleUpload = async (e) => {\n    e.preventDefault();\n    try {\n      // if(!isAdmin) return alert(\"You're not an admin\")\n      const file = e.target.files[0];\n\n      if (!file) return alert(\"File not exist.\");\n\n      if (file.size > 1024 * 1024)\n        // 1mb\n        return alert(\"Size too large!\");\n\n      if (file.type !== \"image/jpeg\" && file.type !== \"image/png\")\n        // 1mb\n        return alert(\"File format is incorrect.\");\n\n      let formData = new FormData();\n      formData.append(\"file\", file);\n\n      setLoading(true);\n      const res = await axios.post(\"/api/upload\", formData, {\n        headers: {\n          \"content-type\": \"multipart/form-data\",\n          Authorization: token,\n        },\n      });\n      setLoading(false);\n      setImages(res.data);\n    } catch (err) {\n      alert(err.response.data.msg);\n    }\n  };\n\n  const handleDestroy = async () => {\n    try {\n      // if(!isAdmin) return alert(\"You're not an admin\")\n      setLoading(true);\n      await axios.post(\n        \"/api/destroy\",\n        { public_id: images.public_id },\n        {\n          headers: { Authorization: token },\n        }\n      );\n      setLoading(false);\n      setImages(false);\n    } catch (err) {\n      alert(err.response.data.msg);\n    }\n  };\n\n  const handleChangeInput = (e) => {\n    const { name, value } = e.target;\n    setProduct({ ...product, [name]: value });\n    if (name === \"category\" && value === \"61f3d9b908e72d203c44c95a\") {\n      setCategoryState(\"61f3d9b908e72d203c44c95a\");\n    } else if (name === \"category\" && value === \"61f3d9c008e72d203c44c95f\") {\n      setCategoryState(\"61f3d9c008e72d203c44c95f\");\n    }\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      // if(!isAdmin) return alert(\"You're not an admin\")\n      if (!images) return alert(\"No Image Upload\");\n\n      if (onEdit) {\n        await axios.put(\n          `/api/products/${product._id}`,\n          { ...product, images },\n          {\n            headers: { Authorization: token },\n          }\n        );\n      } else {\n        await axios.post(\n          \"/api/products\",\n          { ...product, images },\n          {\n            headers: { Authorization: token },\n          }\n        );\n      }\n      setCallback(!callback);\n      history.push(\"/\");\n    } catch (err) {\n      alert(err.response.data.msg);\n    }\n  };\n\n  const styleUpload = {\n    display: images ? \"block\" : \"none\",\n  };\n  return (\n    <div className=\"create_product\">\n      <div className=\"upload\">\n        <input type=\"file\" name=\"file\" id=\"file_up\" onChange={handleUpload} />\n        {loading ? (\n          <div id=\"file_img\">\n            <Loading />\n          </div>\n        ) : (\n          <div id=\"file_img\" style={styleUpload}>\n            <img src={images ? images.url : \"\"} alt=\"\" />\n            <span onClick={handleDestroy}>X</span>\n          </div>\n        )}\n      </div>\n\n      <form onSubmit={handleSubmit}>\n        {/* <div className=\"row\">\n          <label htmlFor=\"product_id\">უნიკალური კოდი</label>\n          <input\n            type=\"text\"\n            name=\"product_id\"\n            id=\"product_id\"\n            // required\n            value={product.product_id}\n            onChange={handleChangeInput}\n            disabled={onEdit}\n          />\n        </div> */}\n        {/* <div className=\"row\">\n          <label htmlFor=\"content\">სათაური</label>\n          <input\n            type=\"text\"\n            name=\"title\"\n            placeholder=\"\"\n            required\n            rows=\"7\"\n            onChange={handleChangeInput}\n          />\n        </div> */}\n        <div className=\"row\">\n          <label htmlFor=\"categories\">ვეძებ: </label>\n          <select\n            name=\"category\"\n            value={product.category}\n            onChange={handleChangeInput}\n          >\n            <option value=\"\">აირჩიეთ</option>\n            {categories.map((category) => (\n              <option value={category._id} key={category._id}>\n                {category.name}\n              </option>\n            ))}\n          </select>\n        </div>\n\n        <div className=\"row\">\n          <label htmlFor=\"content\">საწყისი პუნქტი</label>\n          <input\n            type=\"text\"\n            name=\"startLocation\"\n            placeholder=\"მაგ: ბათუმი\"\n            required\n            rows=\"7\"\n            onChange={handleChangeInput}\n          />\n        </div>\n\n        <div className=\"row\">\n          <label htmlFor=\"content\">დანიშნულების ადგილი</label>\n          <input\n            type=\"text\"\n            name=\"finalLocation\"\n            placeholder=\"მაგ: თბილისი\"\n            required\n            rows=\"7\"\n            onChange={handleChangeInput}\n          />\n        </div>\n\n        <div className=\"row\">\n          {categoryState === \"61f3d9b908e72d203c44c95a\" ? (\n            <label htmlFor=\"price\">\n              ბიუჯეტი(₾)\n              <span style={{ color: \"grey\" }}>\n                <i> - ეს ველი ნებაყოფლობითია</i>\n              </span>\n            </label>\n          ) : (\n            <label htmlFor=\"price\">\n              საწვავის ხარჯი(₾){\" \"}\n              <span style={{ color: \"grey\" }}>\n                <i> - ეს ველი ნებაყოფლობითია</i>\n              </span>\n            </label>\n          )}\n          <input\n            type=\"number\"\n            name=\"price\"\n            id=\"price\"\n            value={product.price}\n            onChange={handleChangeInput}\n          />\n        </div>\n\n        <div className=\"row\">\n          {categoryState === \"61f3d9b908e72d203c44c95a\" ? (\n            <label htmlFor=\"price\">მგზავრების რაოდენობა</label>\n          ) : (\n            <label htmlFor=\"price\">\n              მანქანაში თავისუფალი ადგილების რაოდენობა\n            </label>\n          )}\n\n          <input\n            type=\"number\"\n            name=\"quantity\"\n            id=\"quantity\"\n            required\n            defaultValue={product.quantity}\n            onChange={handleChangeInput}\n          />\n        </div>\n\n        <div className=\"row\">\n          {categoryState !== \"61f3d9b908e72d203c44c95a\" && (\n            <label htmlFor=\"price\">\n              შემიძლია გავიარო:\n              <span style={{ color: \"grey\" }}>\n                <i> - ეს ველი ნებაყოფლობითია</i>\n              </span>\n            </label>\n          )}\n          <input\n            type=\"text\"\n            name=\"middleLocations\"\n            id=\"price\"\n            defaultValue={product.middleLocations}\n            placeholder=\"მაგ: რუსთავი, გორი\"\n            onChange={handleChangeInput}\n          />\n        </div>\n\n        <div className=\"row\">\n          <label htmlFor=\"description\">აღწერა</label>\n          <textarea\n            type=\"text\"\n            name=\"description\"\n            id=\"description\"\n            required\n            defaultValue={product.description}\n            rows=\"5\"\n            onChange={handleChangeInput}\n          />\n        </div>\n\n        <div className=\"row\">\n          <label htmlFor=\"content\">საკონტაქტო ნომერი</label>\n          <input\n            type=\"text\"\n            name=\"content\"\n            id=\"content\"\n            required\n            placeholder=\"მაგ: 555 555 555\"\n            rows=\"7\"\n            onChange={handleChangeInput}\n          />\n        </div>\n\n        <button\n          style={{\n            background: \"#EB7602\",\n            color: \"white\",\n            borderRadius: \"25px\",\n            padding: \"10px\",\n            fontSize: \"16px\",\n          }}\n          type=\"submit\"\n        >\n          {onEdit ? \"Update\" : \"მზადაა\"}\n        </button>\n      </form>\n    </div>\n  );\n}\n\nexport default CreateProduct;\n","import React, { useContext } from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\nimport Products from \"./products/Products\";\nimport DetailProduct from \"./detailProduct/DetailProduct\";\nimport Login from \"./auth/Login\";\nimport Register from \"./auth/Register\";\nimport OrderHistory from \"./history/OrderHistory\";\nimport OrderDetails from \"./history/OrderDetails\";\nimport Cart from \"./cart/Cart\";\nimport NotFound from \"./utils/not_found/NotFound\";\nimport Categories from \"./categories/Categories\";\nimport CreateProduct from \"./createProduct/CreateProduct\";\n\nimport { GlobalState } from \"../../GlobalState\";\n\nfunction Pages() {\n  const state = useContext(GlobalState);\n  const [isLogged] = state.userAPI.isLogged;\n  const [isAdmin] = state.userAPI.isAdmin;\n\n  return (\n    <Switch>\n      <Route path=\"/\" exact component={Products} />\n      <Route path=\"/detail/:id\" exact component={DetailProduct} />\n\n      <Route path=\"/login\" exact component={isLogged ? NotFound : Login} />\n      <Route\n        path=\"/register\"\n        exact\n        component={isLogged ? NotFound : Register}\n      />\n\n      <Route\n        path=\"/category\"\n        exact\n        component={isAdmin ? Categories : NotFound}\n      />\n      <Route\n        path=\"/create_product\"\n        exact\n        component={isAdmin ? CreateProduct : NotFound}\n      />\n      <Route\n        path=\"/edit_product/:id\"\n        exact\n        component={isAdmin ? CreateProduct : NotFound}\n      />\n\n      <Route\n        path=\"/history\"\n        exact\n        component={isLogged ? OrderHistory : NotFound}\n      />\n      <Route\n        path=\"/history/:id\"\n        exact\n        component={isLogged ? OrderDetails : NotFound}\n      />\n\n      <Route path=\"/cart\" exact component={Cart} />\n\n      <Route path=\"*\" exact component={NotFound} />\n    </Switch>\n  );\n}\n\nexport default Pages;\n","import React from 'react';\nimport {BrowserRouter as Router} from 'react-router-dom'\nimport {DataProvider} from './GlobalState'\nimport Header from './components/headers/Header'\nimport MainPages from './components/mainpages/Pages'\n\n\nfunction App() {\n  return (\n    <DataProvider>\n      <Router>\n        <div className=\"App\">\n          <Header />\n          <MainPages />\n        </div>\n      </Router>\n    </DataProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(<App />,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}